<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>tic tak toe</title>
</head>
<body style="margin: 0; padding: 0; overflow: hidden;">
    <canvas id="cnv"></canvas>
	
    <script>
var 
cnv = document.getElementById('cnv'),
ctx = cnv.getContext('2d');

cnv.width = window.innerWidth;
cnv.height = window.innerHeight;
var len, size = 12;

if (window.innerWidth < window.innerHeight)
    len = window.innerWidth;
else
    len = window.innerHeight;

ctx.beginPath();
var map = [
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
];

for (let i = 1; i < size; i++) {
ctx.moveTo(0, i * len / size);
ctx.lineTo(len, i * len / size);
}

for (let i = 1; i < size; i++) {
ctx.moveTo(i * len / size, 0);
ctx.lineTo(i * len / size, len);
}

ctx.stroke();
ctx.closePath();

var symb = 1,
 ls = len / size;
cnv.onclick = function(event) {
var
x = Math.floor(event.clientX / len * size),
y = Math.floor(event.clientY / len * size);

if (map[x][y] == 0) {
map[x][y] = symb;
symb = 3 - symb;

if (symb == 1) {
ctx.beginPath();
ctx.arc((x + 0.5) * ls, (y + 0.5) * ls, 0.4 * ls, 
	0, 2 * Math.PI);
ctx.stroke();
ctx.closePath();
} else {
ctx.beginPath();
ctx.moveTo((x + 0.1) * ls, (y + 0.1) * ls);
ctx.lineTo((x + 0.9) * ls, (y + 0.9) * ls);
ctx.moveTo((x + 0.1) * ls, (y + 0.9) * ls);
ctx.lineTo((x + 0.9) * ls, (y + 0.1) * ls);
ctx.stroke();
ctx.closePath();
}
for (let x = 0; x < size - 4; x++)
for (let y = 0; y < size; y++)
if (0 != map[x][y] && map[x][y] == map[x+1][y] && map[x+1][y] == map[x+2][y] && map[x+2][y] == map[x+3][y] && map[x+3] == map[x+4][y]) {
ctx.beginPath();
ctx.moveTo((x + 0.5) * ls, (y + 0.5) * ls);
ctx.lineTo((x + 4.5) * ls, (y + 0.5) * ls);
ctx.stroke();
ctx.closePath();
}

for (let x = 0; x < size; x++)
for (let y = 0; y < size - 4; y++)
if (0 != map[x][y] && map[x][y] == map[x][y+1] && map[x][y+1] == map[x][y+2] && map[x][y+2] == map[x][y+3] && map[x][y+3] == map[x][y+4]) {
ctx.beginPath();
ctx.moveTo((x + 0.5) * ls, (y + 0.5) * ls);
ctx.lineTo((x + 0.5) * ls, (y + 4.5) * ls);
ctx.stroke();
ctx.closePath();
}

for (let x = 0; x < size - 4; x++)
for (let y = 0; y < size - 4; y++)
if (0 != map[x][y] && map[x][y] == map[x+1][y+1] && map[x+1][y+1] == map[x+2][y+2] && map[x+2][y+2] == map[x+3][y+3] && map[x+3][x+3] == map[x+4][y+4])  {
ctx.beginPath();
ctx.moveTo((x + 0.5) * ls, (y + 0.5) * ls);
ctx.lineTo((x + 4.5) * ls, (y + 4.5) * ls);
ctx.stroke();
ctx.closePath();
}

for (let x = 0; x < size - 4; x++)
for (let y = 0; y < size - 4; y++)
if (0 != map[x+4][y] && map[x+4][y] == map[x+3][y+1] && map[x+3][y+1] == map[x+2][y+2] && map[x+2][y+2] == map[x+1][y+3] && map[x+1][y+3] == map[x][y+4]) {
ctx.beginPath();
ctx.moveTo((x + 4.5) * ls, (y + 0.5) * ls);
ctx.lineTo((x + 0.5) * ls, (y + 4.5) * ls);
ctx.stroke();
ctx.closePath();
}

}
}
    </script>
</body>
